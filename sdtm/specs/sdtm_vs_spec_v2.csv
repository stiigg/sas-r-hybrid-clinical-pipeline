seq,domain,source_var,target_var,transformation_type,transformation_logic,data_type,length,quality_check,cdisc_note
1,VS,,STUDYID,CONSTANT,STUDYID="&studyid",char,20,not_missing,Study Identifier
2,VS,,DOMAIN,CONSTANT,DOMAIN="VS",char,2,not_missing,Domain Abbreviation
3,VS,subjid,USUBJID,CONCAT,USUBJID=cats("&studyid",'-',strip(subjid)),char,40,not_missing,Unique Subject Identifier
4,VS,vs_seq,VSSEQ,DIRECT_MAP,VSSEQ=input(vs_seq,best.),num,8,not_missing,Sequence Number
5,VS,vs_test,VSTESTCD,DIRECT_MAP,VSTESTCD=upcase(strip(vs_test)),char,8,not_missing,Vital Signs Test Short Name
6,VS,vs_test,VSTEST,RECODE,"if upcase(vs_test)='SYSBP' then VSTEST='Systolic Blood Pressure'; else if upcase(vs_test)='DIABP' then VSTEST='Diastolic Blood Pressure'; else if upcase(vs_test)='PULSE' then VSTEST='Pulse Rate'; else if upcase(vs_test)='TEMP' then VSTEST='Temperature'; else if upcase(vs_test)='RESP' then VSTEST='Respiratory Rate'; else if upcase(vs_test)='HEIGHT' then VSTEST='Height'; else if upcase(vs_test)='WEIGHT' then VSTEST='Weight'; else VSTEST=propcase(vs_test);",char,40,not_missing,Vital Signs Test Name
7,VS,vs_pos,VSPOS,DIRECT_MAP,VSPOS=upcase(strip(vs_pos)),char,20,,Position of Subject
8,VS,vs_result,VSORRES,DIRECT_MAP,VSORRES=strip(vs_result),char,20,not_missing,Result or Finding in Original Units
9,VS,vs_result,VSORRESU,DIRECT_MAP,VSORRESU=strip(vs_unit),char,20,not_missing,Original Units
10,VS,vs_result,VSSTRESC,DIRECT_MAP,VSSTRESC=strip(vs_result),char,20,not_missing,Character Result/Finding in Std Format
11,VS,vs_result,VSSTRESN,DIRECT_MAP,VSSTRESN=input(vs_result,?? best.),num,8,not_missing,Numeric Result/Finding in Standard Units
12,VS,vs_unit,VSSTRESU,DIRECT_MAP,VSSTRESU=strip(vs_unit),char,20,not_missing,Standard Units
13,VS,vs_location,VSLOC,DIRECT_MAP,VSLOC=upcase(strip(vs_location)),char,20,,Location of Vital Signs Measurement
14,VS,vs_date,VSDTC,DATE_CONVERT,"if not missing(vs_date) then VSDTC=put(input(vs_date,yymmdd10.),e8601da.); else VSDTC='';",char,20,not_missing,Date/Time of Vital Signs
15,VS,visit_num,VISITNUM,DIRECT_MAP,VISITNUM=input(visit_num,best.),num,8,not_missing,Visit Number
16,VS,visit_name,VISIT,DIRECT_MAP,VISIT=strip(visit_name),char,40,not_missing,Visit Name
17,VS,vs_date,VSDTC_TEMP,DATE_CONVERT,"_vsdtc_temp=input(vs_date,?? yymmdd10.);",num,8,,Temporary date for VSDY calculation
18,VS,,VSDY,CONDITIONAL,"if not missing(_vsdtc_temp) and not missing(input(RFSTDTC,?? e8601da.)) then do; if _vsdtc_temp >= input(RFSTDTC,?? e8601da.) then VSDY=_vsdtc_temp - input(RFSTDTC,?? e8601da.) + 1; else VSDY=_vsdtc_temp - input(RFSTDTC,?? e8601da.); end; else VSDY=.;",num,8,,Study Day of Vital Signs
19,VS,,VSBLFL,BASELINE_FLAG,"test_var=VSTESTCD|dtc_var=VSDTC|ref_start=RFSTDTC|position_var=VSPOS",char,1,,Baseline Flag
20,VS,vs_reason,VSSTAT,CONDITIONAL,"if not missing(vs_reason) then VSSTAT='NOT DONE'; else VSSTAT='';",char,20,,Completion Status
21,VS,vs_reason,VSREASND,DIRECT_MAP,VSREASND=strip(vs_reason),char,200,,Reason Not Done
22,VS,,EPOCH,CONDITIONAL,"if VISITNUM=1 then EPOCH='SCREENING'; else if VISITNUM in (2,3,4,5,6) then EPOCH='TREATMENT'; else if VISITNUM=99 then EPOCH='FOLLOW-UP'; else EPOCH='';",char,20,,Epoch
23,VS,subjid,_TEMP_SUBJID,DIRECT_MAP,_TEMP_SUBJID=strip(subjid),char,20,,Temp variable for BMI calculation
24,VS,,_DROP_VARS,CONDITIONAL,"drop _vsdtc_temp _TEMP_SUBJID;",char,1,,Variables to drop
25,VS,,VSORRESU_CHECK,CONDITIONAL,"if VSTESTCD in ('HEIGHT','WEIGHT') and missing(VSORRESU) then put 'WARNING: Missing units for ' VSTESTCD= USUBJID=;",char,1,,QC check for required units